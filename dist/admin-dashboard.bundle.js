(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1046:function(e,t,a){"use strict";a.r(t);var n=a(4),l=a.n(n),r=a(5),i=a.n(r),c=a(6),s=a.n(c),o=a(7),m=a.n(o),d=a(29),u=a.n(d),h=a(8),v=a.n(h),b=a(27),p=a.n(b),f=a(0),E=a.n(f),g=a(638),N=a(639),y=a(72),k=a(16),w=a(652),C=a(621),F=a(185),T=a(188),S=(a(23),a(657),a(641),a(682)),x=a(702),D=a.n(x),Y=(a(18),a(703)),O={open:function(e){var t=e.creditFilter,a=e.label,n=T.c.openModal({content:E.a.createElement(A,{creditFilter:t,onClose:function(){return n.close()},label:a})});return n.result}},A=function(e){function t(e){var a;return l()(this,t),a=s()(this,m()(t).call(this,e)),p()(u()(a),"columns",[{label:"STT",cellDisplay:function(e,t){return t+1}},{label:"Mã sinh viên",cellDisplay:function(e){return e.user.identityID}},{label:"Họ và tên",cellDisplay:function(e){return e.user.name}},{label:"Lớp",cellDisplay:function(e){return"".concat(e.speciality.shortName).concat(e.schoolYear).concat(e.englishLevel)}}]),a.state={disabled:!0},a.title=document.title,document.title="Danh sách sinh viên có số tín chỉ đăng ký ".concat(e.label," kì này"),a}return v()(t,e),i()(t,[{key:"componentWillUnmount",value:function(){document.title=this.title}},{key:"render",value:function(){var e=this,t=this.state.disabled,a=this.props,n=a.onClose,l=a.label,r=a.creditFilter,i=y.a.syncGet(),c=i.currentYear,s=(i.latestSchoolYear,i.currentSemester);return E.a.createElement("div",{className:"class-student-modal common-modal"},E.a.createElement("div",{className:"modal-header"},E.a.createElement("div",{className:"modal-title"},"Danh sách sinh viên có số tín chỉ đăng ký ",l," kì này"),E.a.createElement("i",{className:"fas fa-times close-modal",onClick:function(){return n()}})),E.a.createElement("div",{className:"modal-body"},E.a.createElement(Y.a,{ref:function(t){return e.sInfo=t},api:function(){return S.a.getStudentByCredits(r,s,c).then((function(t){return e.setState({disabled:!t.length}),{list:t,total:null}}))}})),E.a.createElement("div",{className:"modal-footer"},E.a.createElement("button",{type:"button",className:"btn btn-cancel",onClick:function(){return n()}},"Đóng"),E.a.createElement(D.a,{removeAfterPrint:!0,trigger:function(){return E.a.createElement("button",{type:"button",className:"btn btn-confirm",disabled:t},E.a.createElement("i",{className:"fal fa-print"}),"In danh sách")},content:function(){return e.sInfo.table}})))}}]),t}(E.a.Component);a.d(t,"default",(function(){return B}));var B=function(e){function t(e){var a;l()(this,t),a=s()(this,m()(t).call(this,e)),p()(u()(a),"pieOptions",{maintainAspectRatio:!1,responsive:!1,legend:{position:"right",labels:{boxWidth:20}},tooltips:{callbacks:{title:function(e,t){return t.labels[e[0].index]},label:function(e,t){return t.datasets[0].data[e.index]+" sinh viên"}},backgroundColor:"#404e67",titleFontSize:14,bodyFontSize:14,displayColors:!1,width:"auto"}}),p()(u()(a),"filterTypes",{">=15":0,">=12":1,">=10":2,"<10":3}),p()(u()(a),"handleClickPieChart",(function(e){console.log(e[0]._model.label),O.open({creditFilter:a.filterTypes[e[0]._model.label.replace(" Tín","")],label:e[0]._model.label.replace(" Tín","")})})),a.state={loading:!0,overview:{}};var n=y.a.syncGet(),r=n.currentYear,i=(n.latestSchoolYear,n.currentSemester);return w.a.getRegistrationEventFullOverview({semester:i,year:r}).then((function(e){return a.setState({overview:e,loading:!1})})),a}return v()(t,e),i()(t,[{key:"render",value:function(){var e=this.state,t=e.loading,a=e.overview.registerQuantity,n=y.a.syncGet(),l=n.currentYear,r=n.latestSchoolYear,i=n.currentSemester,c={registerQuantity:{labels:Object.keys(this.filterTypes).map((function(e){return"".concat(e," Tín")})),datasets:[{data:a?[a["gte-15"].length,a["gte-12-and-lt-15"].length,a["gte-10-and-lt-12"].length,a["lt-10"].length]:[],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]}};return E.a.createElement(g.a,{title:"Trang chủ quản lý"},E.a.createElement(N.a,{title:"Trang chủ quản lý"},E.a.createElement("div",{className:"admin-dashboard-route"},E.a.createElement("div",{className:"white-box"},E.a.createElement("div",{className:"white-box-header"},E.a.createElement("div",{className:"header-title"},"Tổng Quan")),E.a.createElement("div",{className:"white-box-body"},E.a.createElement("div",{className:"overview-panel"},E.a.createElement("div",{className:"small-panel"},E.a.createElement("div",{className:"label"},"Kì Học Hiện Tại"),E.a.createElement("div",{className:"value"},i+1)),E.a.createElement("div",{className:"small-panel"},E.a.createElement("div",{className:"label"},"Năm Học"),E.a.createElement("div",{className:"value"},Object(k.d)(l))),E.a.createElement("div",{className:"small-panel"},E.a.createElement("div",{className:"label"},"Niên Khóa Mới Nhất"),E.a.createElement("div",{className:"value"},r))))),E.a.createElement("div",{className:"white-box register-quantity"},E.a.createElement("div",{className:"white-box-header"},E.a.createElement("div",{className:"header-title"},"Thống Kê Sinh Viên Theo Tín Chỉ Đăng Ký")),E.a.createElement("div",{className:"white-box-body"},t?E.a.createElement(F.a,null):E.a.createElement(C.a,{data:c.registerQuantity,height:200,width:400,options:this.pieOptions,onElementsClick:this.handleClickPieChart}))))))}}]),t}(E.a.Component)}}]);