(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{929:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return M}));var n=a(8),l=a.n(n),c=a(9),s=a.n(c),r=a(10),i=a.n(r),u=a(11),m=a.n(u),d=a(24),o=a.n(d),p=a(12),f=a.n(p),g=a(19),h=a.n(g),E=a(0),b=a.n(E),v=a(613),N=a(611),y=a.n(N),j=a(179),D=a(20),w=a(37),S=a.n(w),T=a(643),G=a(616),P=(a(83),a(672)),C=a(172),I=a(614),M=function(e){function t(e){var a;return l()(this,t),a=i()(this,m()(t).call(this,e)),h()(o()(a),"columns",[{label:"STT",cellDisplay:function(e,t){return t+1}},{label:"Mã học phần",cellDisplay:function(e){return e.subject.subjectID}},{label:"Tên học phần",cellDisplay:function(e){return e.subject.name}},{label:"Sô tín chỉ",cellDisplay:function(e){return e.subject.credits}},{label:"Điểm",cellDisplay:function(e){return b.a.createElement("p",{className:S()("grade-display",{tach:e.grade<5&&e.grade>-2,wait:-2===e.grade})},-2===e.grade?"?":e.grade)}}]),h()(o()(a),"calculateTotalCredits",(function(e){return e?e.reduce((function(e,t){return e+(t.grade<5||["PG121","PG100"].includes(t.subject.subjectID)?0:t.subject.credits)}),0):0})),h()(o()(a),"calculateMeanGrade",(function(e){if(!e)return 0;var t=e.filter((function(e){return e.grade>=5&&!["PG121","PG100"].includes(e.subject.subjectID)}));return(e.reduce((function(e,t){return e+(t.grade<5||["PG121","PG100"].includes(t.subject.subjectID)?0:t.grade)}),0)/t.length).toFixed(2)})),h()(o()(a),"calculatePendingCredits",(function(e){return e?e.reduce((function(e,t){return e+(-2===t.grade?0:t.subject.credits)}),0):0})),a.state={loading:!0,speciality:null,specialities:[]},C.a.getStudentSpecs().then((function(e){return a.setState({specialities:e,loading:!1,speciality:e.find((function(e){return e._id===D.a.getState().info.speciality._id}))})})),a}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=D.a.getState(),a=t.name,n=t.identityID,l=t.dob,c=t.info,s=this.state,r=s.loading,i=s.speciality,u=s.specialities,m=s.list;return b.a.createElement(v.a,{title:"Bảng điểm cá nhân"},b.a.createElement(I.a,{title:"Bảng điểm cá nhân"},b.a.createElement("div",{className:"result-route"},b.a.createElement("div",{className:"left-panel"},b.a.createElement("div",{className:"common-route-wrapper"},b.a.createElement("div",{className:"student-summary"},b.a.createElement("div",{className:"summary-info"},b.a.createElement("span",{className:"label"},"Tổng số tín chỉ tích lũy:"),b.a.createElement("span",{className:"value"},this.calculateTotalCredits(m))),b.a.createElement("div",{className:"summary-info"},b.a.createElement("span",{className:"label"},"Trung bình chung tích lũy:"),b.a.createElement("span",{className:"value"},this.calculateMeanGrade(m))),b.a.createElement("div",{className:"summary-info"},b.a.createElement("span",{className:"label"},"Tổng số tín chỉ đang đợi điểm:"),b.a.createElement("span",{className:"value"},this.calculatePendingCredits(m)))))),b.a.createElement("div",{className:"right-panel"},b.a.createElement("div",{className:"common-route-wrapper"},b.a.createElement("div",{className:"student-info"},"Bảng điểm sinh viên: ",b.a.createElement("span",null,a)," - ",b.a.createElement("span",null,n)," - ",b.a.createElement("span",null,y()(l).format("DD/MM/YYYY"))," - ",b.a.createElement("span",null,c.speciality.shortName,c.schoolYear,c.englishLevel)),b.a.createElement("div",{className:"student-result"},!r&&b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"table-actions"},b.a.createElement("div",{className:"spec-select"},b.a.createElement("span",{className:"label"},"Ngành học"),1===u.length?b.a.createElement("span",{className:"value"},i.name):b.a.createElement(G.a,{options:u,value:i,displayAs:function(e){return e.name},getValue:function(e){return e._id},onChange:function(t){e.setState({speciality:u.find((function(e){return e._id===t.target.value}))})}}))),b.a.createElement(T.a,{className:"result-table",api:function(t){return P.a.getStudentResult(t).then((function(t){return e.setState({list:t.results}),{list:t.results,total:null}}))},filter:{speciality:i},columns:this.columns,rowTrackBy:function(e,t){return e._id},emptyNotify:"Không có môn học nào"}))))))))}}]),t}(j.a)}}]);